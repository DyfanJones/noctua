<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Athena Work Groups — work_group • noctua</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Athena Work Groups — work_group" />
<meta property="og:description" content="Lower level API access, allows user to create and delete Athena Work Groups.
create_work_groupCreates a workgroup with the specified name (link). 
                         The work group utilises parameters from the dbConnect object, to determine the encryption and output location of the work group.
                         The s3_staging_dir, encryption_option and kms_key parameters are gotten from dbConnect
tag_optionsHelper function to create tag options for function create_work_group()
delete_work_groupDeletes the workgroup with the specified name (link). 
                         The primary workgroup cannot be deleted.
list_work_groupsLists available workgroups for the account (link).
get_work_groupReturns information about the workgroup with the specified name (link).
update_work_groupUpdates the workgroup with the specified name (link). 
                         The workgroup's name cannot be changed. The work group utilises parameters from the dbConnect object, to determine the encryption and output location of the work group.
                         The s3_staging_dir, encryption_option and kms_key parameters are gotten from dbConnect


" />
<meta property="og:image" content="/logo.png" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">noctua</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.6.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/aws_athena_query_caching.html">AWS Athena Query Caching</a>
    </li>
    <li>
      <a href="../articles/aws_s3_backend.html">AWS S3 Backend</a>
    </li>
    <li>
      <a href="../articles/changing_backend_file_parser.html">Changing Backend File Parser</a>
    </li>
    <li>
      <a href="../articles/getting_started.html">Getting Started</a>
    </li>
    <li>
      <a href="../articles/how_to_retry.html">How to Retry?</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/DyfanJones/noctua/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Athena Work Groups</h1>
    <small class="dont-index">Source: <a href='https://github.com/DyfanJones/noctua/blob/master/R/athena_low_api.R'><code>R/athena_low_api.R</code></a></small>
    <div class="hidden name"><code>work_group.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Lower level API access, allows user to create and delete Athena Work Groups.</p><dl'>
<dt>create_work_group</dt><dd><p>Creates a workgroup with the specified name (<a href='https://paws-r.github.io/docs/athena/create_work_group.html'>link</a>). 
                         The work group utilises parameters from the <code>dbConnect</code> object, to determine the encryption and output location of the work group.
                         The s3_staging_dir, encryption_option and kms_key parameters are gotten from <code><a href='dbConnect-AthenaDriver-method.html'>dbConnect</a></code></p></dd>
<dt>tag_options</dt><dd><p>Helper function to create tag options for function <code>create_work_group()</code></p></dd>
<dt>delete_work_group</dt><dd><p>Deletes the workgroup with the specified name (<a href='https://paws-r.github.io/docs/athena/delete_work_group.html'>link</a>). 
                         The primary workgroup cannot be deleted.</p></dd>
<dt>list_work_groups</dt><dd><p>Lists available workgroups for the account (<a href='https://paws-r.github.io/docs/athena/list_work_groups.html'>link</a>).</p></dd>
<dt>get_work_group</dt><dd><p>Returns information about the workgroup with the specified name (<a href='https://paws-r.github.io/docs/athena/get_work_group.html'>link</a>).</p></dd>
<dt>update_work_group</dt><dd><p>Updates the workgroup with the specified name (<a href='https://paws-r.github.io/docs/athena/update_work_group.html'>link</a>). 
                         The workgroup's name cannot be changed. The work group utilises parameters from the <code>dbConnect</code> object, to determine the encryption and output location of the work group.
                         The s3_staging_dir, encryption_option and kms_key parameters are gotten from <code><a href='dbConnect-AthenaDriver-method.html'>dbConnect</a></code></p></dd>

</dl>

    </div>

    <pre class="usage"><span class='fu'>create_work_group</span>(
  <span class='no'>conn</span>,
  <span class='kw'>work_group</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>enforce_work_group_config</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>publish_cloud_watch_metrics</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>bytes_scanned_cut_off</span> <span class='kw'>=</span> <span class='fl'>10000000L</span>,
  <span class='kw'>description</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>tags</span> <span class='kw'>=</span> <span class='fu'>tag_options</span>(<span class='kw'>key</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>value</span> <span class='kw'>=</span> <span class='kw'>NULL</span>)
)

<span class='fu'>tag_options</span>(<span class='kw'>key</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>value</span> <span class='kw'>=</span> <span class='kw'>NULL</span>)

<span class='fu'>delete_work_group</span>(<span class='no'>conn</span>, <span class='kw'>work_group</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>recursive_delete_option</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)

<span class='fu'>list_work_groups</span>(<span class='no'>conn</span>)

<span class='fu'>get_work_group</span>(<span class='no'>conn</span>, <span class='kw'>work_group</span> <span class='kw'>=</span> <span class='kw'>NULL</span>)

<span class='fu'>update_work_group</span>(
  <span class='no'>conn</span>,
  <span class='kw'>work_group</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>remove_output_location</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>enforce_work_group_config</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>publish_cloud_watch_metrics</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>bytes_scanned_cut_off</span> <span class='kw'>=</span> <span class='fl'>10000000L</span>,
  <span class='kw'>description</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>state</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"ENABLED"</span>, <span class='st'>"DISABLED"</span>)
)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>conn</th>
      <td><p>A <code><a href='dbConnect-AthenaDriver-method.html'>dbConnect</a></code> object, as returned by <code><a href='dbConnect-AthenaDriver-method.html'>dbConnect()</a></code></p></td>
    </tr>
    <tr>
      <th>work_group</th>
      <td><p>The Athena workgroup name.</p></td>
    </tr>
    <tr>
      <th>enforce_work_group_config</th>
      <td><p>If set to <code>TRUE</code>, the settings for the workgroup override client-side settings.
If set to <code>FALSE</code>, client-side settings are used. For more information, see 
<a href='https://docs.aws.amazon.com/athena/latest/ug/workgroups-settings-override.html'>Workgroup Settings Override Client-Side Settings</a>.</p></td>
    </tr>
    <tr>
      <th>publish_cloud_watch_metrics</th>
      <td><p>Indicates that the Amazon CloudWatch metrics are enabled for the workgroup.</p></td>
    </tr>
    <tr>
      <th>bytes_scanned_cut_off</th>
      <td><p>The upper data usage limit (cutoff) for the amount of bytes a single query in a workgroup is allowed to scan.</p></td>
    </tr>
    <tr>
      <th>description</th>
      <td><p>The workgroup description.</p></td>
    </tr>
    <tr>
      <th>tags</th>
      <td><p>A tag that you can add to a resource. A tag is a label that you assign to an AWS Athena resource (a workgroup).
Each tag consists of a key and an optional value, both of which you define. Tags enable you to categorize workgroups in Athena, for example,
by purpose, owner, or environment. Use a consistent set of tag keys to make it easier to search and filter workgroups in your account.
The maximum tag key length is 128 Unicode characters in UTF-8. The maximum tag value length is 256 Unicode characters in UTF-8. 
You can use letters and numbers representable in UTF-8, and the following characters: <code>"+ - = . _ : / @"</code>. Tag keys and values are case-sensitive.
Tag keys must be unique per resource. Please use the helper function <code>tag_options()</code> to create tags for work group, if no tags are required please put <code>NULL</code> for this parameter.</p></td>
    </tr>
    <tr>
      <th>key</th>
      <td><p>A tag key. The tag key length is from 1 to 128 Unicode characters in UTF-8. You can use letters and numbers representable in UTF-8, and the following characters: <code>"+ - = . _ : / @"</code>. 
Tag keys are case-sensitive and must be unique per resource.</p></td>
    </tr>
    <tr>
      <th>value</th>
      <td><p>A tag value. The tag value length is from 0 to 256 Unicode characters in UTF-8. You can use letters and numbers representable in UTF-8, and the following characters: <code>"+ - = . _ : / @"</code>. 
Tag values are case-sensitive.</p></td>
    </tr>
    <tr>
      <th>recursive_delete_option</th>
      <td><p>The option to delete the workgroup and its contents even if the workgroup contains any named queries</p></td>
    </tr>
    <tr>
      <th>remove_output_location</th>
      <td><p>If set to <code>TRUE</code>, indicates that the previously-specified query results location (also known as a client-side setting) for queries in this workgroup should be ignored and set to null.
If set to <code>FALSE</code> the out put location in the workgroup's result configuration will be updated with the new value.
For more information, see <a href='https://docs.aws.amazon.com/athena/latest/ug/workgroups-settings-override.html'>Workgroup Settings Override Client-Side Settings</a>.</p></td>
    </tr>
    <tr>
      <th>state</th>
      <td><p>The workgroup state that will be updated for the given workgroup.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    
<dl'>
<dt>create_work_group</dt><dd><p>Returns <code>NULL</code> but invisible</p></dd>
<dt>tag_options</dt><dd><p>Returns <code>list</code> but invisible</p></dd>
<dt>delete_work_group</dt><dd><p>Returns <code>NULL</code> but invisible</p></dd>
<dt>list_work_groups</dt><dd><p>Returns list of available work groups</p></dd>
<dt>get_work_group</dt><dd><p>Returns list of work group meta data</p></dd>
<dt>update_work_group</dt><dd><p>Returns <code>NULL</code> but invisible</p></dd>

</dl>


    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># \donttest{</span>
<span class='co'># Note: </span>
<span class='co'># - Require AWS Account to run below example.</span>
<span class='co'># - Different connection methods can be used please see `noctua::dbConnect` documnentation</span>

<span class='fu'><a href='https://rdrr.io/r/base/library.html'>library</a></span>(<span class='no'>noctua</span>)

<span class='co'># Demo connection to Athena using profile name </span>
<span class='no'>con</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='dbConnect-AthenaDriver-method.html'>dbConnect</a></span>(<span class='kw pkg'>noctua</span><span class='kw ns'>::</span><span class='fu'><a href='athena.html'>athena</a></span>())

<span class='co'># List current work group available</span>
<span class='fu'>list_work_groups</span>(<span class='no'>con</span>)</div><div class='output co'>#&gt; [[1]]
#&gt; [[1]]$Name
#&gt; [1] "primary"
#&gt; 
#&gt; [[1]]$State
#&gt; [1] "ENABLED"
#&gt; 
#&gt; [[1]]$Description
#&gt; [1] ""
#&gt; 
#&gt; [[1]]$CreationTime
#&gt; [1] "2019-08-22 15:14:47 GMT"
#&gt; 
#&gt; </div><div class='input'>
<span class='co'># Create a new work group</span>
<span class='no'>wg</span> <span class='kw'>&lt;-</span> <span class='fu'>create_work_group</span>(<span class='no'>con</span>,
                  <span class='st'>"demo_work_group"</span>,
                   <span class='kw'>description</span> <span class='kw'>=</span> <span class='st'>"This is a demo work group"</span>,
                   <span class='kw'>tags</span> <span class='kw'>=</span> <span class='fu'>tag_options</span>(<span class='kw'>key</span><span class='kw'>=</span> <span class='st'>"demo_work_group"</span>, <span class='kw'>value</span> <span class='kw'>=</span> <span class='st'>"demo_01"</span>))

<span class='co'># List work groups to see new work group</span>
<span class='fu'>list_work_groups</span>(<span class='no'>con</span>)</div><div class='output co'>#&gt; [[1]]
#&gt; [[1]]$Name
#&gt; [1] "demo_work_group"
#&gt; 
#&gt; [[1]]$State
#&gt; [1] "ENABLED"
#&gt; 
#&gt; [[1]]$Description
#&gt; [1] "This is a demo work group"
#&gt; 
#&gt; [[1]]$CreationTime
#&gt; [1] "2020-04-16 09:48:54 GMT"
#&gt; 
#&gt; 
#&gt; [[2]]
#&gt; [[2]]$Name
#&gt; [1] "primary"
#&gt; 
#&gt; [[2]]$State
#&gt; [1] "ENABLED"
#&gt; 
#&gt; [[2]]$Description
#&gt; [1] ""
#&gt; 
#&gt; [[2]]$CreationTime
#&gt; [1] "2019-08-22 15:14:47 GMT"
#&gt; 
#&gt; </div><div class='input'>
<span class='co'># get meta data from work group</span>
<span class='no'>wg</span> <span class='kw'>&lt;-</span> <span class='fu'>get_work_group</span>(<span class='no'>con</span>, <span class='st'>"demo_work_group"</span>)

<span class='co'># Update work group</span>
<span class='no'>wg</span> <span class='kw'>&lt;-</span> <span class='fu'>update_work_group</span>(<span class='no'>con</span>, <span class='st'>"demo_work_group"</span>,
                  <span class='kw'>description</span> <span class='kw'>=</span> <span class='st'>"This is a demo work group update"</span>)


<span class='co'># get updated meta data from work group</span>
<span class='no'>wg</span> <span class='kw'>&lt;-</span> <span class='fu'>get_work_group</span>(<span class='no'>con</span>, <span class='st'>"demo_work_group"</span>)

<span class='co'># Delete work group</span>
<span class='fu'>delete_work_group</span>(<span class='no'>con</span>, <span class='st'>"demo_work_group"</span>)

<span class='co'># Disconect from Athena</span>
<span class='fu'><a href='dbDisconnect.html'>dbDisconnect</a></span>(<span class='no'>con</span>)
<span class='co'># }</span></div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Dyfan Jones.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.0.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


